<?xml version="1.0" encoding="UTF-8"?>
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
    <!-- 本地仓库路径（保持默认） -->
    <localRepository>${user.home}/.m2/repository</localRepository>

    <pluginGroups></pluginGroups>
    <proxies></proxies>

    <!-- 私服账号（保留你的原有配置） -->
    <servers>
        <server>
            <id>releases</id>
            <username>admin</username>
            <password>admin123</password>
        </server>
        <server>
            <id>snapshots</id>
            <username>admin</username>
            <password>admin123</password>
        </server>
    </servers>

    <!-- 第一步：配置镜像映射（对应下面的repository ID） -->
    <mirrors>
        <!-- 1. 公司私服镜像（最高优先级） -->
        <mirror>
            <id>mirror-nexus</id>
            <name>Company Nexus Mirror</name>
            <url>http://192.168.13.86:8081/repository/maven-public/</url>
            <mirrorOf>nexus-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>

        <!-- 2. 阿里镜像 -->
        <mirror>
            <id>mirror-aliyun</id>
            <name>Aliyun Maven Mirror</name>
            <url>https://maven.aliyun.com/repository/public</url>
            <mirrorOf>aliyun-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>

        <!-- 3. 华为云镜像 -->
        <mirror>
            <id>mirror-huawei</id>
            <name>Huawei Cloud Maven Mirror</name>
            <url>https://repo.huaweicloud.com/repository/maven/</url>
            <mirrorOf>huawei-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>

        <!-- 4. 清华大学镜像 -->
        <mirror>
            <id>mirror-tsinghua</id>
            <name>Tsinghua University Maven Mirror</name>
            <url>https://mirrors.tuna.tsinghua.edu.cn/maven2/</url>
            <mirrorOf>tsinghua-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>

        <!-- 5. 中科大镜像 -->
        <mirror>
            <id>mirror-ustc</id>
            <name>USTC Maven Mirror</name>
            <url>https://mirrors.ustc.edu.cn/maven/maven2/</url>
            <mirrorOf>ustc-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>

        <!-- 6. Sonatype 镜像 -->
        <mirror>
            <id>mirror-sonatype</id>
            <name>Sonatype Central Mirror</name>
            <url>https://oss.sonatype.org/content/groups/public/</url>
            <mirrorOf>sonatype-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>

        <!-- 7. 官方中央仓库（最后兜底） -->
        <mirror>
            <id>mirror-central</id>
            <name>Maven Central Mirror</name>
            <url>https://repo1.maven.org/maven2</url>
            <mirrorOf>central-repo</mirrorOf>
            <blocked>false</blocked>
        </mirror>
    </mirrors>

    <!-- 第二步：配置仓库优先级链（前一个失败自动试下一个） -->
    <profiles>
        <profile>
            <id>repo-chain-full</id>
            <activation>
                <activeByDefault>true</activeByDefault> <!-- 默认激活 -->
            </activation>
            <repositories>
                <!-- 1. 公司私服仓库 -->
                <repository>
                    <id>nexus-repo</id>
                    <name>Company Private Repository</name>
                    <url>http://192.168.13.86:8081/repository/maven-public/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>true</enabled></snapshots>
                    <timeout>5000</timeout> <!-- 5秒超时则换下一个 -->
                </repository>

                <!-- 2. 阿里仓库 -->
                <repository>
                    <id>aliyun-repo</id>
                    <name>Aliyun Public Repository</name>
                    <url>https://maven.aliyun.com/repository/public</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                    <timeout>5000</timeout>
                </repository>

                <!-- 3. 华为云仓库 -->
                <repository>
                    <id>huawei-repo</id>
                    <name>Huawei Cloud Public Repository</name>
                    <url>https://repo.huaweicloud.com/repository/maven/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                    <timeout>5000</timeout>
                </repository>

                <!-- 4. 清华大学仓库 -->
                <repository>
                    <id>tsinghua-repo</id>
                    <name>Tsinghua University Repository</name>
                    <url>https://mirrors.tuna.tsinghua.edu.cn/maven2/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                    <timeout>5000</timeout>
                </repository>

                <!-- 5. 中科大仓库 -->
                <repository>
                    <id>ustc-repo</id>
                    <name>USTC Repository</name>
                    <url>https://mirrors.ustc.edu.cn/maven/maven2/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                    <timeout>5000</timeout>
                </repository>

                <!-- 6. Sonatype 仓库 -->
                <repository>
                    <id>sonatype-repo</id>
                    <name>Sonatype Public Repository</name>
                    <url>https://oss.sonatype.org/content/groups/public/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                    <timeout>5000</timeout>
                </repository>

                <!-- 7. 官方中央仓库（兜底） -->
                <repository>
                    <id>central-repo</id>
                    <name>Maven Central Repository</name>
                    <url>https://repo1.maven.org/maven2</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                    <timeout>5000</timeout>
                </repository>
            </repositories>

            <!-- 插件仓库同步配置（避免插件下载失败） -->
            <pluginRepositories>
                <pluginRepository>
                    <id>nexus-repo</id>
                    <name>Company Private Plugin Repository</name>
                    <url>http://192.168.13.86:8081/repository/maven-public/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>true</enabled></snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>aliyun-repo</id>
                    <name>Aliyun Plugin Repository</name>
                    <url>https://maven.aliyun.com/repository/public</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>huawei-repo</id>
                    <name>Huawei Cloud Plugin Repository</name>
                    <url>https://repo.huaweicloud.com/repository/maven/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>tsinghua-repo</id>
                    <name>Tsinghua Plugin Repository</name>
                    <url>https://mirrors.tuna.tsinghua.edu.cn/maven2/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>ustc-repo</id>
                    <name>USTC Plugin Repository</name>
                    <url>https://mirrors.ustc.edu.cn/maven/maven2/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>sonatype-repo</id>
                    <name>Sonatype Plugin Repository</name>
                    <url>https://oss.sonatype.org/content/groups/public/</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>central-repo</id>
                    <name>Maven Central Plugin Repository</name>
                    <url>https://repo1.maven.org/maven2</url>
                    <releases><enabled>true</enabled></releases>
                    <snapshots><enabled>false</enabled></snapshots>
                </pluginRepository>
            </pluginRepositories>
        </profile>
    </profiles>

    <!-- 激活完整的仓库链配置 -->
    <activeProfiles>
        <activeProfile>repo-chain-full</activeProfile>
    </activeProfiles>
</settings>